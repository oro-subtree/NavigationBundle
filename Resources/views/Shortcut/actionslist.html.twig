{% extends bap.layout %}
{% import 'OroUIBundle::macros.html.twig' as UI %}

{% block title %}{% trans %}Shortcut Actions List{% endtrans %}{% endblock %}
{% block content %}
<div class="container-fluid">
    <div class="clearfix">
        <h3>{% trans %}Shortcut Actions List{% endtrans %}</h3>

        {% if actionsList|length > 0 %}
            <table class="table table-bordered table-striped">
                <thead>
                    <tr>
                        <th>{% trans %}Action Name{% endtrans %}</th>
                        <th>{% trans %}Description{% endtrans %}</th>
                    </tr>
                </thead>
                <tbody>
                {% for action in actionsList if action.url %}
                    <tr>
                        {% if action.dialog_config is defined %}
                            <td>
                                {{
                                    UI.clientLink({
                                        'dataUrl': path('oro_email_email_create'),
                                        'aCss': 'no-hash',
                                        'iCss': 'icon-envelope',
                                        'dataId': 95,
                                        'label' : 'oro.email.send_email'|trans,
                                        'widget' : {
                                            'type' : 'dialog',
                                            'multiple' : true,
                                            'refresh-widget-alias': 'activity-list-widget',
                                            'options' : {
                                                'alias': 'email-dialog',
                                                'dialogOptions' : {
                                                    'title' : 'oro.email.send_email'|trans,
                                                    'allowMaximize': true,
                                                    'allowMinimize': true,
                                                    'dblclick': 'maximize',
                                                    'maximizedHeightDecreaseBy': 'minimize-bar',
                                                    'width': 1000
                                                }
                                            }
                                        }
                                    })
                                }}
                            </td>
                            <td>{{ action.description|trans }}</td>
                        {% else %}
                            <td><a href="{{ action.url }}" target="_blank">{{ action.label|trans }}</a></td>
                            <td>{{ action.description|trans }}</td>
                        {% endif %}

                    </tr>
                {% endfor %}
                </tbody>
            </table>
        {% else %}
            <h2>{% trans %}Sorry, you don't have any action{% endtrans %}</h2>
        {% endif %}
    </div>
</div>
{% endblock %}
